{"version":3,"sources":["types/userDataTypes.ts","hooks/useTypedSelector.ts","store/userData.ts","types/userSearchTypes.ts","Components/Card.tsx","store/userSearch.ts","Components/UserSearch.tsx","App.tsx","reportWebVitals.js","store/index.ts","index.tsx"],"names":["UserDataActionTypes","useTypedSelector","useSelector","SearchActionTypes","fetchUserDataActionCreator","text","console","log","dispatch","type","FETCH_USER_DATA_REQUEST","fetch","then","result","json","data","message","name","login","avatar_url","repos","FETCH_USER_DATA_SUCCESS","payload","userName","avatar","parseInt","public_repos","catch","err","FETCH_USER_DATA_ERROR","initialState","error","loading","UserCard","state","user","search","searchText","useDispatch","useEffect","className","href","target","src","alt","UserSearch","button_clk","x","undefined","FIELD_UPDATE","onSubmit","event","preventDefault","Submit","placeholder","onChange","e","value","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","appReducer","combineReducers","action","FIELD_CLEAR","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3528ca5b.chunk.js","sourcesContent":["export enum UserDataActionTypes {\r\n    FETCH_USER_DATA_REQUEST = 'FETCH_USER_DATA_REQUEST',\r\n    FETCH_USER_DATA_SUCCESS = 'FETCH_USER_DATA_SUCCESS',\r\n    FETCH_USER_DATA_ERROR = 'FETCH_USER_DATA_ERROR',\r\n    //FETCH_BEGIN = 'FETCH_BEGIN'\r\n}\r\n\r\nexport interface UserDataType {\r\n    name: null | string;\r\n    userName: null | string;\r\n    avatar: null | string;\r\n    repos: number;\r\n}\r\n\r\ninterface FetchUserDataRequestAction {\r\n    type: UserDataActionTypes.FETCH_USER_DATA_REQUEST;\r\n}\r\ninterface FetchUserDataSuccessAction {\r\n    type: UserDataActionTypes.FETCH_USER_DATA_SUCCESS;\r\n    payload: UserDataType;\r\n}\r\ninterface FetchUserDataErrorAction {\r\n    type: UserDataActionTypes.FETCH_USER_DATA_ERROR;\r\n    payload: string;\r\n}\r\n// interface FetchBegin {\r\n//     type: UserDataActionTypes.FETCH_BEGIN;\r\n// }\r\n\r\nexport type UserDataAction = FetchUserDataErrorAction | FetchUserDataRequestAction | FetchUserDataSuccessAction; // | FetchBegin;\r\n\r\nexport interface UserDataState {\r\n    data: UserDataType;\r\n    error: null | string;\r\n    loading: boolean;\r\n}","import { TypedUseSelectorHook, useSelector } from 'react-redux'\r\nimport { AppState } from '../store'\r\n\r\nexport {useSelector} from 'react-redux'\r\n\r\nexport const useTypedSelector: TypedUseSelectorHook<AppState> = useSelector;","import {Dispatch} from \"redux\"\r\nimport {UserDataAction, UserDataState, UserDataActionTypes} from '../types/userDataTypes'\r\n\r\n// action creators\r\nexport const fetchUserDataActionCreator = (text: string | undefined) => {\r\n    console.log(\"fetchUserDataActionCreator | text: \" + text)\r\n    return (dispatch: Dispatch<UserDataAction>) => {\r\n        dispatch({type: UserDataActionTypes.FETCH_USER_DATA_REQUEST})\r\n        console.log(\"Creating a request: \" + text);\r\n        \r\n        fetch('https://api.github.com/users/' + text)\r\n        .then((result) => result.json())\r\n        .then((data) => {\r\n            console.log(\r\n                'data.message: ' + data.message +\r\n                '\\ndata.name: ' + data.name +\r\n                '\\ndata.login: ' + data.login +\r\n                '\\ndata.avatar_url: ' + data.avatar_url +\r\n                '\\nstate.repos: ' +  data.repos\r\n                );\r\n            dispatch({\r\n                type: UserDataActionTypes.FETCH_USER_DATA_SUCCESS,\r\n                payload: {\r\n                    name: data.name,\r\n                    userName: data.login,\r\n                    avatar: data.avatar_url,\r\n                    repos: parseInt(data.public_repos, 10)\r\n                }\r\n            })\r\n        })\r\n        .catch((err) =>\r\n            dispatch({\r\n                type: UserDataActionTypes.FETCH_USER_DATA_ERROR,\r\n                payload: err.message\r\n            })\r\n        );\r\n    }\r\n}\r\n\r\n// reducer\r\nconst initialState: UserDataState = {\r\n    data: {\r\n        name: null,\r\n        userName: null,\r\n        avatar: null,\r\n        repos: 0,\r\n    },\r\n    error: null,\r\n    loading: false\r\n}\r\n\r\nexport const userDataReducer = (state = initialState, action: UserDataAction): UserDataState => {\r\n    switch(action.type) {\r\n        case UserDataActionTypes.FETCH_USER_DATA_REQUEST:\r\n            return { loading: true, error: null, data: {name: null, userName: null, avatar: null, repos: 0} };\r\n        case UserDataActionTypes.FETCH_USER_DATA_SUCCESS:\r\n            return { loading: false, error: null, data: {name: action.payload.name, userName: action.payload.userName, avatar: action.payload.avatar, repos: action.payload.repos} };\r\n        case UserDataActionTypes.FETCH_USER_DATA_ERROR:\r\n            return { loading: false, error: action.payload, data: {name: null, userName: null, avatar: null, repos: 0} };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","export enum SearchActionTypes {\r\n    FIELD_CLEAR = 'FIELD_CLEAR',\r\n    FIELD_UPDATE = 'FIELD_UPDATE'\r\n}\r\n\r\ninterface SearchUpdateAction {\r\n    type: SearchActionTypes.FIELD_UPDATE;\r\n    payload: string;\r\n}\r\n\r\ninterface SearchClearAction {\r\n    type: SearchActionTypes.FIELD_CLEAR;\r\n}\r\n\r\nexport type SearchAction = SearchUpdateAction | SearchClearAction;\r\n\r\nexport interface SearchState {\r\n    searchText: string;\r\n}","import React, { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useTypedSelector } from '../hooks/useTypedSelector'\r\nimport { fetchUserDataActionCreator } from \"../store/userData\"\r\n\r\nexport const UserCard: React.FC = () => {\r\n    console.log(\"userCard rendering\");\r\n    const {data, loading, error} = useTypedSelector(state => state.user);\r\n    const text: string = useTypedSelector(state => state.search.searchText);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchUserDataActionCreator(text))\r\n    }, [text])\r\n\r\n    if (loading)\r\n        return (<h6>Загрузка...</h6>)\r\n\r\n    if (error)\r\n        return (<h6>{error}</h6>)\r\n\r\n    return (\r\n        (!data.userName || !data.name || !data.avatar) ? <div></div> :\r\n        <div className=\"card\">\r\n            <a href={\"https://www.github.com/\" + data.userName} target=\"_blank\">\r\n                <img className=\"card-avatar\" src={data.avatar}\r\n                    alt={data.userName}\r\n                />\r\n            </a>\r\n            <div className=\"card-sign\">\r\n                <div className=\"card-sign-line header\">\r\n                    {data.name}\r\n                </div>\r\n                <div className=\"card-sign-line nickname\">\r\n                    {data.userName}\r\n                </div>\r\n                <div className=\"card-sign-line\">\r\n                    {data.repos !== 0 ? <span>Repositories: {data.repos}</span> : <span>No projects</span>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        //TODO: back btn\r\n    );\r\n}\r\n","import {Dispatch} from \"redux\"\r\nimport {SearchAction, SearchState, SearchActionTypes} from '../types/userSearchTypes'\r\n\r\n// action creator\r\nexport const searchActionCreator = (text: string) => {\r\n    return (dispatch: Dispatch<SearchAction>) => {\r\n\r\n    }\r\n};\r\n\r\n// action\r\nexport const clear = (() => {\r\n    return {\r\n        type: SearchActionTypes.FIELD_CLEAR\r\n    }\r\n})\r\n// action\r\nexport const update = ((x: string | undefined) => {\r\n    console.log(\"in update | x: \" + x)\r\n\r\n    if (x === undefined) x = '';\r\n    return {\r\n        type: SearchActionTypes.FIELD_UPDATE,\r\n        payload: x\r\n    }\r\n})\r\n\r\n// reducer\r\nconst initialState: SearchState = {\r\n    searchText: ''\r\n}\r\n\r\nexport const userSearchReducer = (state: SearchState = initialState, action: SearchAction): SearchState => {\r\n    switch(action.type) {\r\n        case SearchActionTypes.FIELD_CLEAR:\r\n            return {\r\n                searchText: ''\r\n            }\r\n        case SearchActionTypes.FIELD_UPDATE:\r\n            return {\r\n                searchText: action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import React, { FormEventHandler, useEffect } from 'react'\r\nimport { UserCard } from './Card'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useTypedSelector } from '../hooks/useTypedSelector'\r\nimport { update, clear } from \"../store/userSearch\"\r\nimport { fetchUserDataActionCreator } from '../store/userData';\r\n\r\n\r\n\r\n//\r\n//  HELP\r\n//\r\n\r\n\r\n\r\nexport const UserSearch: React.FC = () => {\r\n    console.log(\"userSearch rendering\");\r\n    let text: string | undefined = useTypedSelector(state => state.search.searchText);\r\n    let button_clk: number = 0;\r\n    const dispatch = useDispatch();\r\n\r\n    function Submit(event: React.FormEvent) {\r\n        event.preventDefault();\r\n        console.log(\"btn click | trying to save \" + text);\r\n        // dispatch(clear);\r\n        // dispatch(update(text));\r\n        // dispatch(fetchUserDataActionCreator(text));\r\n        button_clk++;\r\n        text = '';\r\n    }\r\n    \r\n    useEffect(() => {\r\n        dispatch(update(text));\r\n        dispatch(fetchUserDataActionCreator(text));\r\n    //}, [])\r\n    }, [button_clk])\r\n\r\n    return (\r\n        <div className=\"w-20\">\r\n            <form onSubmit={(event) => Submit(event)}>\r\n                <span className=\"user-search\">\r\n                    <input type=\"text\" placeholder=\"enter a nickname on GitHub\"  className=\"search-field\" \r\n                    onChange={\r\n                        e => text = e.target.value\r\n                    }\r\n                    />\r\n                    <button type=\"submit\" className=\"search-btn\">Find!</button>\r\n                </span>\r\n            </form>\r\n            <UserCard />\r\n        </div>\r\n    );\r\n}","import React from 'react-redux'\r\nimport { UserSearch } from './Components/UserSearch'\r\nimport { UserCard } from './Components/Card'\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n        <p>\r\n          LAB-10-redux UI5-45 Turchin\r\n        </p>\r\n        <UserSearch/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { combineReducers, createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'/*'remote-redux-devtools'*/;\r\nimport thunk from 'redux-thunk'\r\nimport { userDataReducer } from './userData'\r\nimport { userSearchReducer } from './userSearch';\r\n\r\nexport const appReducer = combineReducers({\r\n    user: userDataReducer,\r\n    search: userSearchReducer\r\n})\r\n\r\nexport type AppState = ReturnType<typeof appReducer>\r\n\r\n  // Store\r\nexport const store = createStore(\r\n    appReducer,\r\n    composeWithDevTools(applyMiddleware(thunk))\r\n);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport {Provider} from 'react-redux'\r\n\r\nimport { store } from './store'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}